# 🧪 بطاقة الاختبار السريعة (Quick Test Card)

## الأرقام التجريبية الأربعة

```
┌──────────────────────────────────────────────────────────┐
│                    SCENARIO 1: SafeGate                  │
├──────────────────────────────────────────────────────────┤
│  رقم الهوية: 1234567890                                 │
│  الاسم: فهد العتيبي                                      │
│  الوجهة: SafeGate Screen                                │
│  الميزات:                                                │
│    ✓ إدارة OTP (6 خدمات سعودية)                         │
│    ✓ خدمة VPN للبنوك                                     │
│    ✓ المكالمات الطارئة (5 أرقام)                        │
│    ✓ باقة بريميوم (29 ريال/شهر)                         │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│                  SCENARIO 2: In Saudi                    │
├──────────────────────────────────────────────────────────┤
│  رقم الهوية: 2345678901                                 │
│  الاسم: سارة المطيري                                     │
│  الوجهة: Home Screen + Full Access                      │
│  الميزات:                                                │
│    ✓ الشاشة الرئيسية مع AIWave                          │
│    ✓ المحادثة النصية                                     │
│    ✓ المكالمات الصوتية (Call button)                    │
│    ✓ إدارة الخدمات                                       │
│    ✓ الملف الشخصي                                        │
│    ✓ Bottom Navigation (4 tabs)                          │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│                  SCENARIO 3: Elder Mode                  │
├──────────────────────────────────────────────────────────┤
│  رقم الهوية: 3456789012                                 │
│  الاسم: عبدالله القحطاني                                │
│  الوجهة: Elder Mode Screen                              │
│  الميزات:                                                │
│    ✓ واجهة مبسطة جداً                                   │
│    ✓ زر "نعم" كبير → اتصال بوكيل                       │
│    ✓ زر "لا" كبير → محادثة                              │
│    ✓ خطوط كبيرة (18-22pt)                               │
│    ✓ ألوان عالية التباين                                │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│                  SCENARIO 4: Guest Help                  │
├──────────────────────────────────────────────────────────┤
│  رقم الهوية: 4567890123                                 │
│  الاسم: مريم الدوسري                                     │
│  الوجهة: Guest Help Screen                              │
│  الميزات:                                                │
│    ✓ إدخال رقم الهوية                                   │
│    ✓ إدخال اسم القريب                                    │
│    ✓ التحقق من سجل السفر                                │
│    ✓ مطابقة القريب (درجة 1/2)                           │
│    ✓ فتح قناة اتصال آمنة                                │
└──────────────────────────────────────────────────────────┘
```

## 🔄 التدفق المتوقع

```
Start App → Splash (2s) → Nafath Screen
                              ↓
                    [أدخل رقم الهوية]
                              ↓
                    [اضغط "التحقق عبر نفاذ"]
                              ↓
                    [تحميل 2 ثانية...]
                              ↓
                    [Dialog النجاح ✓]
                              ↓
                    [اضغط "متابعة"]
                              ↓
                    [ينتقل للسيناريو المحدد]
```

## ✅ قائمة التحقق

### قبل الاختبار:
- [ ] التطبيق مثبت على الجهاز
- [ ] الإنترنت متصل (لـ Groq API)
- [ ] أذونات الميكروفون ممنوحة (للمكالمات)

### اختبار السيناريو 1 (SafeGate):
- [ ] أدخل `1234567890`
- [ ] يظهر Dialog: "فهد العتيبي"
- [ ] ينتقل لـ SafeGate Screen
- [ ] يظهر قسم "إدارة OTP"
- [ ] يظهر قسم "خدمة VPN"
- [ ] يظهر قسم "المكالمات الطارئة"
- [ ] يظهر قسم "الباقة البريميوم"
- [ ] لا يوجد زر رجوع في الأعلى
- [ ] Bottom Navigation يعمل

### اختبار السيناريو 2 (In Saudi):
- [ ] أدخل `2345678901`
- [ ] يظهر Dialog: "سارة المطيري"
- [ ] ينتقل لـ Home Screen
- [ ] يظهر AIWave متحرك
- [ ] زر "ابدأ محادثة" يعمل
- [ ] Bottom Nav: Home, Chat, Services, Profile
- [ ] ChatScreen يحتوي على زر Call
- [ ] زر Call يفتح VoiceCallScreen
- [ ] المكالمة الصوتية تعمل

### اختبار السيناريو 3 (Elder):
- [ ] أدخل `3456789012`
- [ ] يظهر Dialog: "عبدالله القحطاني"
- [ ] ينتقل لـ Elder Mode Screen
- [ ] يظهر زر "نعم" كبير (أخضر)
- [ ] يظهر زر "لا" كبير (أحمر)
- [ ] الخطوط كبيرة وواضحة
- [ ] زر "نعم" يظهر Dialog للوكيل
- [ ] زر "لا" ينتقل للمحادثة

### اختبار السيناريو 4 (Guest):
- [ ] أدخل `4567890123`
- [ ] يظهر Dialog: "مريم الدوسري"
- [ ] ينتقل لـ Guest Help Screen
- [ ] يظهر حقل رقم الهوية
- [ ] يظهر حقل اسم القريب
- [ ] زر "طلب المساعدة" يعمل
- [ ] تظهر رسائل الحالة التدريجية

### اختبار رقم خاطئ:
- [ ] أدخل `9999999999`
- [ ] يظهر خطأ: "رقم الهوية غير صحيح"
- [ ] يبقى في شاشة Nafath
- [ ] يمكن المحاولة مرة أخرى

### اختبار الميزات الإضافية:
- [ ] الضغط على بطاقة المستخدم ينسخ الرقم
- [ ] الأيقونات تظهر بشكل صحيح
- [ ] الألوان متناسقة
- [ ] الانتقالات سلسة
- [ ] لا توجد أخطاء في Console

## 🐛 الأخطاء الشائعة

### Problem: لا ينتقل من Splash
**Solution**: تأكد أن الوقت 2 ثانية كافي، أو تحقق من `/onboarding` route

### Problem: رقم الهوية لا يعمل
**Solution**: تأكد من إدخال 10 أرقام بالضبط، بدون مسافات

### Problem: Dialog لا يظهر
**Solution**: تحقق من `mounted` flag و `barrierDismissible: false`

### Problem: SafeGate يظهر زر رجوع
**Solution**: تأكد من `automaticallyImplyLeading: false` في SafeGateScreen

### Problem: المكالمة الصوتية لا تعمل
**Solution**: تحقق من:
- [ ] أذونات الميكروفون
- [ ] Groq API Key صحيح
- [ ] الإنترنت متصل

## 📝 ملاحظات الاختبار

```
التاريخ: _____________
المختبر: _____________
الجهاز: iPhone (00008030-000C108926F8802E)

سيناريو 1 (SafeGate):     [ ] نجح  [ ] فشل  ملاحظات: ___________
سيناريو 2 (In Saudi):     [ ] نجح  [ ] فشل  ملاحظات: ___________
سيناريو 3 (Elder):        [ ] نجح  [ ] فشل  ملاحظات: ___________
سيناريو 4 (Guest):        [ ] نجح  [ ] فشل  ملاحظات: ___________

الأخطاء المكتشفة:
1. ________________________________________________
2. ________________________________________________
3. ________________________________________________

التحسينات المقترحة:
1. ________________________________________________
2. ________________________________________________
3. ________________________________________________
```

## 🎬 فيديو التوضيحي المقترح

### المشهد 1: السيناريو الكامل لـ SafeGate (30 ثانية)
1. افتح التطبيق
2. Splash animation
3. أدخل `1234567890`
4. اضغط "التحقق"
5. Dialog النجاح
6. SafeGate Screen
7. اضغط "تسجيل خدمة OTP"
8. تظهر رسائل OTP
9. جرب تشغيل VPN
10. اضغط على رقم طوارئ

### المشهد 2: المكالمة الصوتية (45 ثانية)
1. أدخل `2345678901` (In Saudi)
2. انتقل للشاشة الرئيسية
3. اضغط على Chat tab
4. اضغط على زر Call
5. VoiceCallScreen يفتح
6. حالة "جاري الاتصال..."
7. ابدأ التحدث
8. SARA ترد بالصوت
9. Transcript يظهر
10. أنهِ المكالمة

### المشهد 3: Elder Mode (20 ثانية)
1. أدخل `3456789012`
2. Elder Mode Screen
3. اضغط "نعم"
4. Dialog الوكيل
5. ارجع واضغط "لا"
6. ينتقل للمحادثة

### المشهد 4: Guest Help (30 ثانية)
1. أدخل `4567890123`
2. Guest Help Screen
3. أدخل رقم هوية
4. أدخل اسم قريب
5. اضغط "طلب المساعدة"
6. رسائل الحالة تظهر

---

**آخر تحديث**: ديسمبر 12، 2025  
**الحالة**: ✅ جاهز للاختبار الكامل
